<div class="skills-section w-100 h-100" id="section_3" data-anchor="skills">
  <div class="container">
    @if (skillsData(); as skillData) {
      <form [formGroup]="skillsForm!">
        <div class="row">
          <div class="text-center mb-5">
            <h2 class="fw-bolder text-uppercase mt-5">Tecnical Skills</h2>
            <textarea
              class="text-center fw-normal pt-3 col-12"
              formControlName="skillsIntro"
              [rows]="3"
              [cols]="100"
            ></textarea>
            <portfolio-display-validator-errors
              [control]="skillsForm.get('skillsIntro')"
              errorKey="required"
              message="A valid introduction is required"
            >
            </portfolio-display-validator-errors>
          </div>

          <div class="col-lg-5 col-md-12" data-t-show="3">
            <div class="row">
              <div class="col-lg-5 col-md-12">
                @for (
                  language of skillData.languagesCol1 | keyvalue;
                  track $index
                ) {
                  <div class="mb-5">
                    <h6 class="mb-3">
                      {{ language.key }}:
                      {{ skillsForm.get(language.key)?.value }}%
                    </h6>
                    <input
                      type="range"
                      class="form-range"
                      [id]="language.key"
                      [formControlName]="language.key"
                      min="10"
                      max="100"
                      step="10"
                    />
                  </div>
                }
              </div>
              <div class="col-lg-2 d-none d-lg-block"></div>
              <div class="col-lg-5 col-md-12">
                @for (
                  language of skillData.languagesCol2 | keyvalue;
                  track $index
                ) {
                  <div class="mb-5">
                    <h6 class="mb-3">
                      {{ language.key }}:
                      {{ skillsForm.get(language.key)?.value }}%
                    </h6>
                    <input
                      type="range"
                      class="form-range"
                      [id]="language.key"
                      [formControlName]="language.key"
                      min="10"
                      max="100"
                      step="10"
                    />
                  </div>
                }
              </div>
            </div>
          </div>

          <div class="col-lg-1"></div>
          <div class="col-lg-6 col-md-12" data-t-show="3">
            <div class="my-5">
              <input class="fw-bold w-75" formControlName="toolHeading" />
              <portfolio-display-validator-errors
                class="text-center"
                [control]="skillsForm.get('toolHeading')"
                errorKey="required"
                message="A valid tool heading is required"
              >
              </portfolio-display-validator-errors>
            </div>

            <div class="row">
              <div class="col-6">
                <div class="mb-4">
                  <input
                    class="fw-bold w-100"
                    formControlName="leftSubHeading"
                  />
                  <portfolio-display-validator-errors
                    class="text-center"
                    [control]="skillsForm.get('leftSubHeading')"
                    errorKey="required"
                    message="A valid left subheading is required"
                  >
                  </portfolio-display-validator-errors>
                </div>

                <textarea
                  class="p-3 float-start col-12"
                  formControlName="leftPoints"
                  rows="6"
                  cols="40"
                ></textarea>
                <portfolio-display-validator-errors
                  class="text-center"
                  [control]="skillsForm.get('leftPoints')"
                  errorKey="required"
                  message="A valid left points are required"
                >
                </portfolio-display-validator-errors>
              </div>
              <div class="col-6">
                <div class="mb-4">
                  <input
                    class="fw-bold w-100"
                    formControlName="rightSubHeading"
                  />
                  <portfolio-display-validator-errors
                    class="text-center"
                    [control]="skillsForm.get('rightSubHeading')"
                    errorKey="required"
                    message="A valid right sub heading is required"
                  >
                  </portfolio-display-validator-errors>
                </div>

                <textarea
                  class="p-3 float-start col-12"
                  formControlName="rightPoints"
                  rows="6"
                  cols="40"
                ></textarea>
                <portfolio-display-validator-errors
                  class="text-center"
                  [control]="skillsForm.get('rightPoints')"
                  errorKey="required"
                  message="A valid right points are required"
                >
                </portfolio-display-validator-errors>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-4">
              <button
                mat-fab
                extended
                color="primary"
                class="float-end"
                id="save"
                (click)="openDialog()"
              >
                <mat-icon>language</mat-icon>
                Change Languages
              </button>
            </div>
            <div class="col-6">
              <button
                mat-fab
                extended
                color="primary"
                class="float-end"
                id="save"
                (click)="updateData()"
              >
                <mat-icon>save</mat-icon>
                Save
              </button>
            </div>
            @if (isSaveSuccess | async) {
              <div class="col-2">
                <mat-icon class="mx-1 success w-100 h-100"
                  >check_circle</mat-icon
                >
              </div>
            }
          </div>
        </div>
      </form>
    }
  </div>
</div>
